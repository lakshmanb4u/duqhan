<ion-side-menus enable-menu-with-back-views="false">

  <!-- CONTENT -->
  <ion-side-menu-content>

    <!-- header bar -->
    <!-- the nav bar will be updated as we navigate between views -->
    <ion-nav-bar align-title="left" class="bar-energized">
      <!-- back button, shown if applicable -->
      <ion-nav-back-button>
      </ion-nav-back-button>
      <!-- nav button, shown if applicable -->
      <ion-nav-buttons side="left">
        <button class="ion-custom-navicon" menu-toggle="primary"></button>

         <button class="ion-custom-icon" ></button> 

      </ion-nav-buttons>
      <ion-nav-buttons side="right">
        <button class="ion-custom-home" ui-sref="store.products.latest">
        </button>
        <button class="ion-custom-search" ng-click="menu.toggleSearchBar()" >
          <span class="badge badge-assertive header-badge" ng-show="menu.cartTotalNumber>0">{{menu.cartTotalNumber}}</span>
        </button>
        <!--         <button class="button button-small button-icon button-clear ion-levels">
        </button> -->
        <button class="ion-custom-cart" ui-sref="store.cart">
        </button>
      </ion-nav-buttons>
    </ion-nav-bar>
    <div class="notification animated bounceInDown" ng-show="menu.notification.type" ng-class="{'success': menu.notification.type == 'success' , 'failure': menu.notification.type == 'failure'}">{{menu.notification.text}}</div>
    <div class="bar bar-header item-input search-bar" ng-show="$root.searcBarActive">
      <form class="item item-input-inset animated slideInLeft" ng-submit="menu.searchProduct()">
        <label class="item-input-wrapper">
          <i class="icon ion-ios-search placeholder-icon"></i>
          <input ng-model="menu.searchText" type="text" placeholder="Search products" focus-me autofocus>
        </label>
        <button class="button button-clear">
          Go
        </button>
      </form>
      <div class="search-bar-backdrop animated fadeIn" ng-click="menu.toggleSearchBar()"></div>
    </div>

    <!-- ROUTING INJECTED HERE: storeContent -->
    <ion-nav-view name="storeContent"></ion-nav-view>

  </ion-side-menu-content>

  <!-- SIDEMENU -->
  <ion-side-menu side="left">

    <!-- menu header -->
    <ion-header-bar class="bar-energized">
      <img class="logo" src="main/assets/images/logo.png" style="width: 30px; height: 30px">
    </ion-header-bar>

    <!-- menu content -->
    <ion-content>
      <ion-list>
        <ion-item class="item-image menu-image">

          <img src="{{menu.profileImage || 'store/assets/images/user.png'}}">

          <h2>{{menu.username}}</h2>
        </ion-item>
        <ion-item menu-close ui-sref="store.products.latest" ng-class="{'active': $state.includes('store.products.latest')}">
          Latest
        </ion-item>
        <!--<ion-item menu-close ui-sref="store.products.recent">
          Recent
        </ion-item>-->
        <ion-item menu-close ng-repeat="m in menu.topLevelMenu" ui-sref="store.productsByCategory({categoryId: m.categoryId})" ng-class="{'active': $state.includes('store.productsByCategory')}">
          {{m.categoryName}}
        </ion-item>
        <!--<ion-item class="item-divider">
          Settings
        </ion-item>-->
        <ion-item menu-close ui-sref="store.profile" ng-class="{'active': $state.includes('store.profile')}">
          My Profile
        </ion-item>
        <!--<ion-item menu-close ui-sref="store.changepassword" ng-class="{'active': $state.includes('store.changepassword')}">
          My Password
        </ion-item>-->
        <ion-item menu-close ui-sref="store.myaddress" ng-class="{'active': $state.includes('store.myaddress')}">
          My Addresses
        </ion-item>
        <ion-item menu-close ui-sref="store.cart" ng-class="{'active': $state.includes('store.cart')}">
          My Cart
        </ion-item>
        <ion-item menu-close ui-sref="store.orderhistory" ng-class="{'active': $state.includes('store.orderhistory')}">
          My Orders
        </ion-item>
        <ion-item menu-close ui-sref="store.customersupport" ng-class="{'active': $state.includes('store.customersupport')}">
          Customer Support
        </ion-item>
        <ion-item menu-close ui-sref="store.aboutus" ng-class="{'active': $state.includes('store.aboutus')}">
          About Us
        </ion-item>
        <ion-item menu-close ui-sref="store.contactus" ng-class="{'active': $state.includes('store.contactus')}">
          Contact Us
        </ion-item>
        <ion-item menu-close ui-sref="store.returnpolicy" ng-class="{'active': $state.includes('store.returnpolicy')}">
          Return Policy
        </ion-item>
        <ion-item menu-close ui-sref="store.privacyPolicy" ng-class="{'active': $state.includes('store.privacyPolicy')}">
          Privacy Policy
        </ion-item>
        <ion-item menu-close ui-sref="store.termsConditions" ng-class="{'active': $state.includes('store.termsConditions')}">
          Terms & Conditions
        </ion-item>
        <ion-item menu-close ng-click="menu.logout()">
          Logout
        </ion-item>
      </ion-list>
      <div class="menu-footer p-md text-center energized">
        <p class="m-none">Version - 1.0.6</p>
      </div>
    </ion-content>
  </ion-side-menu>
</ion-side-menus>
